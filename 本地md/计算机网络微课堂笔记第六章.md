# 计算机网络微课堂笔记 第六章

[TOC]



### 6.1 应用层概述

应用层解决**通过应用进程的交互来实现特定网络应用的问题**。

**应用层是计算机网络体系结构的最顶层，是设计和建立计算机网络的最终目的**，也是计算机网络中发展最快的部分。

- 早期基于文本的应用(电子邮件、远程登录、文件传输、新闻组)
- 20世纪90年代将因特网带入千家万户的万维网www
- 当今流行的即时通信、P2P文件共享及各种音视频应用
- 计算设备的小型化和“无处不在”，宽带住宅接入和无线接入的日益普及和迅速发展，为未来更多的新型应用提供了广阔的舞台。

在本章中，我们以一些经典的网络应用为例来学习有关网络应用的原理、协议和实现方面的知识。

![image-20220626174543622](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220626174543622.webp)

### 6.2 客户/服务器方式(C/S）和对等方式(P2P)

网络应用程序运行在处于网络边缘的不同的端系统上，通过彼此间的通信来共同完成某项任务。

开发一种新的网络应用首先要考虑的问题就是网络应用程序在各种端系统上的组织方式和它们之间的关系.目前流行的主要有以下两种:

客户/服务器(Client/Server，C/S)、方式对等(Peer-to-Peer，P2P)方式

#### 客户/服务器CS方式


客户和服务器是指通信中所涉及的两个应用进程。

客户/服务器方式所描述的是进程之间服务和被服务的关系。

**客户是服务请求方，服务器是服务提供方。**

**服务器总是处于运行状态，并等待客户的服务请求。**

**服务器具有固定端口号（例如HTTP服务器的默认端口号为80)，而运行服务器的主机也具有固定的IP地址。**

![image-20220627165224454](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627165224454.webp)

C/S方式是因特网上传统的、同时也是最成熟的方式，很多我们熟悉的网络应用采用的都是C/S方式。包括万维网www、电子邮件、文件传输FTP等。

基于C/S方式的应用服务通常是**服务集中型**的，即应用服务集中在网络中比客户计算机少得多的服务器计算机上。

由于一台服务器计算机要为多个客户机提供服务，在C/S应用中，**常会出现服务器计算机跟不上众多客户机请求的情况**。

为此，在C/S应用中，常用**计算机群集（或服务器场)构建一个强大的虚拟服务器**。

#### 对等方式 P2P

在P2P方式中，没有**固定的服务请求者和服务提供者**，分布在网络边缘各端系统中的应用进程是对等的，被称为**对等方**。**对等方相互之间直接通信**，每个对等方既是服务的请求者，又是服务的提供者。

![image-20220627165435818](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627165435818.webp)

目前，在因特网上流行的P2P应用主要包括P2P文件共享、即时通信、P2P流媒体、分布式存储等。

基于P2P的应用是服务分散型的，因为服务不是集中在少数几个服务器计算机中，而是分散在大量对等计算机中，这些计算机并不为服务提供商所有，而是为个人控制的桌面计算机和笔记本电脑，它们通常位于住宅、校园和办公室中。

P2P方式的最突出特性之一就是它的**可扩展性**。因为系统每增加一个对等方，不仅增加的是服务的请求者，同时也增加了服务的提供者，系**统性能不会因规模的增大而降低**。

P2P方式具有成本上的优势，因为它通常**不需要庞大的服务器设施和服务器带宽**。为了降低成本，服务提供商对于将P2P方式用于应用的兴趣越来越大。

### 6.3 动态主机配置协议DHCP

DHCP（动态主机配置协议）是一个局域网的网络协议。指的是由服务器控制一段IP地址范围，客户机登录服务器时就可以自动获得服务器分配的IP地址和子网掩码。

#### DHCP的工作过程

![image-20220627175041512](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627175041512.webp)

**四个报文中的内容**

DHCP DISCOVER：事务ID、DHCP客户端的MAC地址

DHCP OFFER：事务ID、配置信息（IP地址、子网掩码、地址租期、默认网关、DNS服务器)

DHCP REQUEST：事务ID、DHCP客户端的MAC地址、接受的租约中的IP地址、提供此租约的DHCP服务器端的IP地址

DHCP ACK

**使用ARP检测所分配到的IP地址是否已被网络中其他主机占用**:若被占用，给DHCP服务器送“DHCPDECLINE”报文撤销IP地址租约，并重新发送“DHCP DISCOVER”报文;
若未被占用:可以使用租约中的IP地址与网络中其他主机通信了。

#### DHCP中继代理

![image-20220627175237477](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627175237477.webp)

![image-20220627175253217](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627175253217.webp)

在每一个网络上都设置一个DHCP服务器会使DHCP服务器的数量太多。因此现在是使**每一个网络至少有一个DHCP中继代理**（通常是一台路由器)，它配置了DHCP服务器的IP地址信息，作为各网络中计算机与DHCP服务器的桥梁。

#### 小结

![image-20220627175428064](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627175428064.webp)

### 6.4 域名系统DNS

![image-20220627180637056](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627180637056.webp)

Q:因特网是否可以只使用一台DNS服务器?

A:这种做法并不可取。因为因特网的规模很大，这样的域名服务器肯定会因为超负荷而无法正常工作，而且一旦域名服务器出现故障，整个因特网就会瘫痪.

早在1983年，因特网就开始采用层次结构的命名树作为主机的名字(即域名),并使用分布式的域名系统DNS。

DNS使大多数域名都在本地解析，仅少量解析需要在因特网上通信，因此系统效率很高。由于DNS是分布式系统，即使单个计算机出了故障，也不会妨碍整个系统的正常运行。

#### 因特网采用层次树状结构的域名结构.

域名的结构由若干个分量组成，各分量之间用“点”隔开，分别代表不同级别的域名。![image-20220627180912890](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627180912890.webp)

- 每一级的域名都由英文字母和数字组成，不超过63个字符，不区分大小写字母。
- 级别最低的域名写在最左边，而级别最高的顶级域名写在最右边。
- 完整的域名不超过255个字符。

域名系统既不规定一个域名需要包含多少个下级域名，也不规定每一级的域名代表什么意思。

各级域名由其上一级的域名管理机构管理，而最高的顶级域名则由因特网名称与数字地址分配机构ICANN进行管理。

如![image-20220627181014472](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627181014472.webp)

#### 各级域名

![image-20220627181154199](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627181154199.webp)

**因特网的域名空间**

![image-20220627181239858](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627181239858.webp)

这种按等级管理的命名方法便于维护名字的唯一性,
并且也容易设计出一种高效的域查询机制。**需要注意的是，域名只是个逻辑概念，并不代表计算机所在的物理地点。**

#### 域名服务器

域名和IP地址的映射关系必须保存在域名服务器中，供所有具他应用拿询。显然不能将所有信息都储存在一台域名服务器中。DNS使用分布在**各地的域名服务器**来实现域名到IP地址的转换。

域名服务器可以划分为以下四种不同的类型:

- **根域名服务器**是最高层次的域名服务器。每个根域名服务器都知道所有的顶级域名服务器的域名及其IP地址。因特网上共有13个不同IP地址的根域名服务器。尽管我们将这13个根域名服务器中的每一个都视为单个的服务器，但“每台服务器”实际上是由许多分布在世界各地的计算机构成的**服务器群集**。当本地域名服务器向根域名服务器发出查询请求时，路由器就把查询请求报文转发到离这个DNS客户最近的一个根域名服务器。这就加快了DNS的查询过程，同时也更合理地利用了因特网的资源。**根域名服务器通常并不直接对域名进行解析，而是返回该域名所属顶级域名的顶级域名服务器的IP地址**。
- **顶级域名服务器负责管理在该顶级域名服务器注册的所有二级域名**。当收到DNS查询请求时就给出相应的回答（可能是最后的结果，也可能是下一级权限域名服务器的IP地址)。
- **权限域名服务器**负责**管理某个区的域名**。每一个主机的域名都必须在某个权限域名服务器处注册登记。因此权限域名服务器知道其管辖的域名与IP地址的映射关系。另外，权限域名服务器还知道其下级域名服务器的地址。
- **本地域名服务器**不属于上述的域名服务器的等级结构。当一个主机发出DNS请求报文时，这个报文就首先被送往该主机的本地域名服务器。**本地域名服务器起着代理的作用，会将该报文转发到上述的域名服务器的等级结构中。**每一个因特网服务提供者ISP，一个大学，甚至一个大学里的学院，都可以拥有一个本地域名服务器，它有时也称为默认域名服务器。本地域名服务器离用户较近，一般不超过几个路由器的距离，也有可能就在同一个局域网中。本地域名服务器的IP地址需要直接配置在需要域名解析的主机中。

#### 域名解析的过程

**递归查询**

![image-20220627181733410](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627181733410.webp)

**迭代查询**

![image-20220627181804816](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627181804816.webp)

由于递归查询对于被查询的域名服务器负担太大，通常采用以下模式:**从请求主机到本地域名服务器的查询是递归查询，而其余的查询是迭代查询**。

为了提高DNS的查询效率，并减轻根域名服务器的负荷和减少因特网上的DNS查询报文数量，在域名服务器中广泛地使用了**高速缓存**。高速缓存用来存放最近查询过的域名以及从何处获得域名映射信息的记录。

![image-20220627181914135](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627181914135.webp)

由于域名到IP地址的映射关系并不是永久不变，为保持高速缓存中的内容正确，**域名服务器应为每项内容设置计时器并删除超过合理时间的项**（例如，每个项目只存放两天)。

不但在本地域名服务器中需要高速缓存，在用户主机中也很需要。许多用户主机在启动时从本地域名服务器下载域名和IP地址的全部数据库，维护存放自己最近使用的域名的高速缓存，并且只在从缓存中找不到域名时才向域名服务器查询。同理，主机也需要保持高速缓存中内容的正确性。

#### 例题与小结

![image-20220627182053921](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627182053921.webp)

![image-20220627182125501](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627182125501.webp)

**本课小结**

![image-20220627180437750](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627180437750.webp)

### 6.5 文件传送协议FTP

将某台计算机中的文件通过网络传送到可能相距很远的另一台计算机中，这是一项基本的网络应用，即文件传送。

**文件传送协议FTP(File Transfer Protocol)是因特网上使用得最广泛的文件传送协议。**

- FTP提供**交互式的访问**，允许客户指明文件的类型与格式(如指明是否使用ASCII码)，并**允许文件具有存取权限**（(如访问文件的用户必须经过授权，并输入有效的口令)。
- **FTP屏蔽了各计算机系统的细节，因而适合于在异构网络中任意计算机之间传送文件。**

在因特网发展的早期阶段，用FTP传送文件约占整个因特网的通信量的三分之一，而由电子邮件和域名系统所产生的通信量还要小于FTP所产生的通信量。只是到了1995年，万维网WWW的通信量才首次超过了FTP。

#### 文件传送协议FTP的应用

![image-20220627182955649](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627182955649.webp)

FTP的常见用途是在计算机之间传输文件，尤其是用于批量传输文件。FTP的另一个常见用途是让网站设计者将构成网站内容的大量文件批量上传到他们的Web服务器。

#### FTP的基本工作原理

**主动模式**

![image-20220627183236685](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627183236685.webp)

控制连接在整个会话期间一直保持打开，用于传送FTP相关控制命令。数据连接用于文件传输，在每次文件传输时才建立，传输结束就关闭。

**被动模式**

![image-20220627183346630](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627183346630.webp)

#### 例题与小结

![image-20220627183408865](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627183408865.webp)

![image-20220627183447555](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627183447555.webp)

**本课小结**

![image-20220627183509905](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220627183509905.webp)

### 6.6 电子邮件

电子邮件(E-mail)是因特网上**最早流行的一种应用**，并且仍然是当今因特网上最重要、最实用的应用之一。

传统的电话通信属于实时通信，存在以下两个缺点:

- 电话通信的主叫和被叫双方必须同时在场;
- 一些不是十分紧迫的电话也常常不必要地打断人们的工作或休息。

而电子邮件与邮政系统的寄信相似：

- 发件人将邮件发送到自己使用的**邮件服务器**;
- 发件人的邮件服务器将收到的邮件按其目的地址转发到收件人邮件服务器中的收件人邮箱;
- 收件人在方便的时候访问收件人邮件服务器中自己的邮箱，获取收到的电子邮件。

电子邮件使用方便、传递迅速而且费用低廉。它不仅可以传送文字信息，而且还可附上声音和图像。

由于电子邮件的广泛使用，现在许多国家已经正式取消了电报业务。在我国，电信局的电报业务也因电子邮件的普及而濒临消失。

#### 电子邮件服务的组成部分

电子邮件系统采用客户/服务器方式。

电子邮件系统的三个主要组成构件:用**户代理，邮件服务器，以及电子邮件所需的协议。**

- **用户代理**是用户与电子邮件系统的接口，又称为电子邮件客户端软件。
- 邮件服务器是电子邮件系统的基础设施。因特网上所有的ISP都有邮件服务器，其功能是发送和接收邮件，同时还要负责维护用户的邮箱。
- **协议**包括邮件发送协议（例如SMTP）和邮件读取协议（例如POP3，IMAP)。

![image-20220628163610436](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628163610436.webp)

![image-20220628163725360](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628163725360.webp)

#### 简单邮件传送协议SMTP的工作原理

![image-20220628164018666](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628164018666.webp)

注意:

1. 为了简单起见，省略了认证过程;
2. 应答代码后面一般都跟有简单的描述信息
3. 不同的SMTP服务器给出的相同应答代码的描述信息可能不同

#### 电子邮件的信息格式

 电子邮件的信息格式并不是由SMTP定义的，而是在RFC 822中单独定义的。这个RFC文档已在2008年更新为RFC 5322。一个电子邮件有**信封和内容**两部分。而内容又由**首部和主体**两部分构成。

![image-20220628164207881](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628164207881.webp)

**SMTP协议只能传送ASCII码文本数据**，不能传送可执行文件或其他的二进制对象。

SMTP不能满足传送多媒体邮件（例如带有图片、音频或视频数据）的需要。并且许多其他非英语国家的文字(例如中文、俄文、甚至带有重音符号的法文或德文）也无法用SMTP传送。

为解决SMTP传送非ASCII码文本的问题，提出了**多用途因特网邮件扩展MIME**。

![image-20220628164307679](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628164307679.webp)

IMME扩展了以下内容：

- 增加了5个新的**邮件首部字段**，这些字段提供了有关邮件主体的信息。
- 定义了许多**邮件内容的格式**，对多媒体电子邮件的表示方法进行了标准化。
- 定义了**传送编码**，可对任何内容格式进行转换，而不会被邮件系统改变。

实际上，MIME不仅仅用于SMTP，也用于后来的同样面向ASCII字符的HTTP。

#### 电子邮件的读取协议

常用的邮件读取协议有以下两个:

- **邮局协议POP** ：POP3是其第三个版本，是因特网正式标准。非常简单、功能有限的邮件读取协议。用户只能以**下载并删除方式或下载并保留方式**从邮件服务器下载邮件到用户方计算机。**不允许用户在邮件服务器上管理自己的邮件**。（例如创建文件夹，对邮件进行分类管理等)。
- **因特网邮件访问协议IMAP**：IMAP4是其第四个版本，目前还只是因特网建议标准。功能比POP3强大的邮件读取协议。**用户在自己的计算机上就可以操控邮件服务器中的邮箱**，就像在本地操控一样，因此IMAP是一个联机协议。

POP3和IMAP4都采用**基于TCP连接的客户/服务器方式**。POP3使用熟知端口110，IMAP4使用熟知端口143。

#### 基于万维网的电子邮件

通过**浏览器**登录（提供用户名和口令）**邮件服务器万维网网站**就可以撰写、收发、阅读和管理电子邮件。这种工作模式与IMAP很类似，不同的是用户计算机无需安装专门的用户代理程序，只需要使用通用的万维网浏览器。

邮件服务器网站通常都提供非常强大和方便的邮件管理功能，用户可以在邮件服务器网站上管理和处理自己的邮件，而不需要将邮件下载到本地进行管理。

![image-20220628164927926](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628164927926.webp)

#### 小结

![image-20220628170406809](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628170406809.webp)

### 6.7 万维网WWW

万维网www **并非某种特殊的计算机网络**。它是大规模的、联机式的信息储藏所，**是运行在因特网上的一个分布式应用**。

万维网利用网页之间的超链接将不同网站的网页链接成一张逻辑上的信息网。

万维网是欧洲粒子物理实验室的Tim Berners-Lee最初于1989年3月提出的。而1993年2月诞生了第一个图形界面的浏览器Mosaic，1995年著名的Netscape Navigator浏览器上市。

目前比较流行的浏览器如下：

![image-20220628170631854](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628170631854.webp)

浏览器最重要的部分是**渲染引擎**，也就是**浏览器内核**，负责对网页内容进行解析和显示。

不同的浏览器内核对网页内容的解析也有不同，因此同一网页在不同内核的浏览器里的显示效果可能不同;网页编写者需要在不同内核的浏览器中测试网页显示效果。

#### 统一资源定位符URL

为了方便地访问在世界范围的文档，万维网使用**统一资源定位符URL**来指明因特网上任何种类“资源”的位置。

URL的一般形式由以下四个部分组成:![image-20220628170807960](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628170807960.webp)

#### 万维网的文档

HTML、CSS、JavaScript

![image-20220628170942412](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628170942412.webp)

#### 超文本传输协议HTTP

HTTP定义了浏览器(即万维网客户进程)怎样向万维网服务器请求万维网文档，以及万维网服务器怎样把万维网文档传送给浏览器。

![image-20220628171218179](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628171218179.webp)

##### HTTP的版本

HTTP/1.0采用**非持续连接**方式。在该方式下，每次浏览器要请求一个文件都要与服务器建立TCP连接，当收到响应后就立即关闭连接。

- **每请求一个文档就要有两倍的RTT的开销**。若一个网页上有很多引用对象（例如图片等)，那么请求每一个对象都需要花费2RTT的时间。
- 为了减小时延，浏览器通常会建立多个并行的TCP连接同时请求多个对象。但是，这会大量占用万维网服务器的资源，特别是万维网服务器往往要同时服务于大量客户的请求，这会使其负担很重。

![image-20220628171318668](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628171318668.webp)

HTTP/1.1采用**持续连接方式**。在该方式下，万维网服务器在发送响应后仍然保持这条连接，使同一个客户（浏览器）和该服务器可以继续在这条连接上传送后续的HTTP请求报文和响应报文。这并不局限于传送同一个页面上引用的对象，而是只要这些文档都在同一个服务器上就行。

为了进一步提高效率，HTTP/1.1的持续连接还可以使用**流水线方式**工作，即浏览器在收到HTTP的响应报文之前就能够连续发送多个请求报文。这样的一个接一个的请求报文到达服务器后，服务器就发回一个接一个的响应报文。这样就节省了很多个RTT时间，使TCP连接中的空闲时间减少，提高了下载文档的效率。

##### HTTP的报文格式

HTTP是面向文本的，其报文中的每一个字段都是一些ASCII码串，并且每个字段的长度都是不确定的。

**HTTP请求报文**![image-20220628172243767](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628172243767.webp)

![image-20220628172951491](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628172951491.webp)



**HTTP响应报文**

![image-20220628173036497](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628173036497.webp)

![image-20220628173044048](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628173044048.webp)

#### Cookie与其工作原理

**使用Cookie在服务器上记录用户信息**

早期的万维网应用非常简单，仅仅是用户查看存放在不同服务器上的各种静态的文档。因此HTTP被设计为一种**无状态**的协议。这样可以简化服务器的设计。

现在，用户可以通过万维网实现各种复杂的应用，如网上购物、电子商务等。这些应用往往需要万维网服务器能够识别用户。

**Cookie的工作原理**

![image-20220628173404069](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628173404069.webp)

#### 万维网缓存与代理服务器

在万维网中还可以使用缓存机制以提高万维网的效率。

万维网缓存又称为**Web缓存**(Web Cache)，可位于客户机，也可位于中间系统上，位于中间系统上的Web缓存又称为**代理服务器**(Proxy Server)。

Web缓存把最近的一些请求和响应暂存在本地磁盘中。**当新请求到达时，若发现这个请求与暂时存放的请求**
**相同，就返回暂存的响应，而不需要按URL的地址再次去因特网访问该资源。**

**正常情况**

![image-20220628173616670](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628173616670.webp)

**若缓存过期则刷新缓存**

![image-20220628173735913](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628173735913.webp)

#### 例题与小结

![image-20220628173951610](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628173951610.webp)

![image-20220628174015330](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628174015330.webp)

**本课小结**

![image-20220628174037538](E:\课件\新建文件夹\计算机网络微课堂\ComputerNetworkNotes\计算机网络微课堂笔记第六章.assets\image-20220628174037538.webp)
